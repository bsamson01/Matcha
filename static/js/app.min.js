function start_webcam(){navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:!0}).then(function(e){video.srcObject=e})}function stop_webcam(){video.srcObject.getTracks()[0].stop()}function snap(){var e=document.getElementsByTagName("canvas"),t=document.getElementById("canvas").getContext("2d"),a=document.getElementById("upload");t.drawImage(video,0,0,640,480),t.drawImage(a,0,0,640,480);var n=e[2].toDataURL();document.getElementById("hidden_data").value=n}function draw(){document.getElementById("upload").getContext("2d").drawImage(this,0,0,640,480)}function failed(){console.error("The provided file couldn't be loaded as an Image media")}var video=document.getElementById("video"),canvas=document.getElementById("canvas");document.getElementById("file").onchange=function(e){var t=new Image;t.onload=draw,t.onerror=failed,t.src=URL.createObjectURL(this.files[0])};